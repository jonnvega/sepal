const _ = require('lodash')
const service = require('sepal/service')
const {first} = require('rxjs')

const contextService = {
    serviceName: 'ContextService',
    serviceHandler$: () => require('root/context').getContext$()
}

module.exports = {
    contextService,
    getContext$: () => service.submit$(contextService),
    getCurrentContext$: () => service.submit$(contextService).pipe(first())
}
