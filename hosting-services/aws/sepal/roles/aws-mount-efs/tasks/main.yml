---
- name: Mount EFS Sepal Home Dir
  mount:
    name: "/data/sepal/home"
    fstype: "efs"
    state: "mounted"
    src: "{{ lookup('env', 'AWS_EFS_ID') }}:/data/sepal/home"
    opts: "defaults,_netdev"
    dump: 0
    passno: 0

- name: Mount EFS Sepal Shiny Dir
  mount:
    name: "/data/sepal/shiny"
    fstype: "efs"
    state: "mounted"
    src: "{{ lookup('env', 'AWS_EFS_ID') }}:/data/sepal/shiny"
    opts: "defaults,_netdev"
    dump: 0
    passno: 0

- name: Mount EFS Sepal Shared Dir
  mount:
    name: "/data/sepal/shared"
    fstype: "efs"
    state: "mounted"
    src: "{{ lookup('env', 'AWS_EFS_ID') }}:/data/sepal/shared"
    opts: "defaults,_netdev"
    dump: 0
    passno: 0

- name: Mount EFS Sepal Kernels Dir
  mount:
    name: "/data/sepal/kernels"
    fstype: "efs"
    state: "mounted"
    src: "{{ lookup('env', 'AWS_EFS_ID') }}:/data/sepal/kernels"
    opts: "defaults,_netdev"
    dump: 0
    passno: 0

- name: Mount EFS Sepal worker instance log Dir
  mount:
    name: "/var/log/worker-instance"
    fstype: "efs"
    state: "mounted"
    src: "{{ lookup('env', 'AWS_EFS_ID') }}:/data/sepal/worker-instance-log"
    opts: "defaults,_netdev"
    dump: 0
    passno: 0
